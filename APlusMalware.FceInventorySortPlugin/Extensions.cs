using System;
using System.Collections.Generic;

namespace APlusMalware.FceInventorySortPlugin
{
    public static class Extensions
    {
        public static List<ItemBase> ToList(this ItemBase[,] items)
        {
            Int32 invWidth = items.GetLength(0);
            Int32 invHeight = items.GetLength(1);
            Int32 invLength = items.Length;

            List<ItemBase> list = new List<ItemBase>(invLength);
            for (Int32 i = 0; i < invHeight; i++)
                for (Int32 j = 0; j < invWidth; j++)
                    list.Add(items[j, i]);

            return list;
        }

        public static ItemBase[,] To2DArray(this List<ItemBase> list, Int32 width, Int32 height)
        {
            ItemBase[,] items = new ItemBase[width, height];
            Int32 count = 0;
            
            for (Int32 i = 0; i < height; i++)
            {
                for (Int32 j = 0; j < width; j++)
                {
                    if (list.Count > count)
                        items[j, i] = list[count];
                    else
                        items[j, i] = null;
                    count++;
                }
            }
            return items;
        }
    }
}
